@model Project5_trangdocbao.Areas.Admin.ViewModels.BAIDANGVM

@{
    ViewBag.Title = "Create";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
@section stylesheet{
    <style>
        .modal-body img {
            max-width:100% !important
        }
        .form-group {
            margin-bottom: 10px !important;
            clear: both;
            min-height: 35px;
            position: relative;
            padding-bottom: 5px !important;
        }

            .form-group > .cke_inner > .cke_contents > iframe > html > p > img {
                width: 100% !important;
                height: auto !important;
            }

        .form-control123 {
            display: none;
            width: 60%;
            height: 34px;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            color: #555;
            background-color: #fff;
            background-image: none;
            border: 1px solid #ccc;
            border-radius: 4px;
            -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
            box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
            -webkit-transition: border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;
            -o-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
            transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
            float: left;
            margin-right: 10px;
        }

        .form-group1122 {
            clear: both;
            padding-top: 10px;
            text-align: center;
        }

        .cknoidung {
            margin-bottom: 10px;
        }

        .image-preview {
            width: 300px;
            min-height: 100px;
            border: 1px solid #dddddd;
            margin-top: 15px;
        }

        #image-preview__image {
            width: 50%;
            height: auto;
        }

        .cknoidung img {
            max-width: 100%;
            height: auto !important;
        }
    </style>

}

@section Js{
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="~/Js/JavaScript.js"></script>
    <script src="~/Js/Tag.js"></script>
}

@*@section scriptfooter{
        <script type="text/javascript">
            $(document).ready(function () {
                $('#btn_avt_post').on('Click', function (e) {
                    e.preventDefault();
                    var finder = new CKFinder();
                    finder.SelectActionFunction = function (url) {
                        $('#txt_avt_post').val(url);
                    };
                    finder.popup();
                });
            });
        </script>
    }*@

@section header{
    SOẠN BÀI ĐĂNG
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    @*<div id="modal-placeholder"></div>*@
    <div class="row" id="divContent">

        <div class="col">


            <fieldset>
                @*CHỌN THỂ LOẠI__________________________________*@
                <div class="form-group">
                    @Html.LabelFor(model => model.IDTheLoai, htmlAttributes: new { @class = "" })
                    @Html.DropDownListFor(model => model.IDTheLoai, null, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.IDTheLoai, "")
                </div>

                @*TÊN BÀI ĐĂNG___________________________________*@-
                <div class="form-group">
                    @Html.LabelFor(model => model.TenBaiDang, htmlAttributes: new { @class = "control-laber" })
                    @*@Html.TextAreaFor(model => model.TenBaiDang, new { htmlAttributes = new { @class = "form-control cknoidung" }, @id = "tieuDe" })*@
                    @Html.TextBoxFor(model => model.TenBaiDang, htmlAttributes: new { @class = "form-control", @id = "tieuDe" })
                    @Html.ValidationMessageFor(model => model.TenBaiDang, "", new { @class = "text-danger" })
                </div>


                @*TIÊU ĐỀ BÀI ĐĂNG___________________________________*@
                <div class="form-group">
                    @Html.LabelFor(model => model.TieuDe, htmlAttributes: new { @class = "control-laber" })
                    @*@Html.TextAreaFor(model => model.TieuDe, new { htmlAttributes = new { @class = "form-control" }, @id = "phuDe" })*@
                    @Html.TextBoxFor(model => model.TieuDe, htmlAttributes: new { @class = "form-control", @id = "phuDe" })
                    @Html.ValidationMessageFor(model => model.TieuDe, "", new { @class = "text-danger" })

                </div>

                @*ẢNH ĐẠI DIỆN___________________________________*@


                @*NỘI DUNG BÀI ĐĂNG___________________________________*@
                <div class="form-group">
                    @Html.LabelFor(model => model.NoiDung, htmlAttributes: new { @class = "control-laber " })
                    @Html.TextAreaFor(model => model.NoiDung, new { htmlAttributes = new { @class = "form-control" }, @id = "txtnoidung" })
                    @Html.ValidationMessageFor(model => model.NoiDung, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <label id="content" style="color:red"></label>
                </div>

                <div class="form-group">
                    @Html.TextBoxFor(model => model.NoiDungBanDau, htmlAttributes: new { @class = "form-control", @id = "oldText", @type = "hidden" })
                    @Html.TextBoxFor(model => model.TieuDeBanDau, htmlAttributes: new { @class = "form-control", @id = "oldTieuDe", @type = "hidden" })
                    @Html.TextBoxFor(model => model.PhuDeBanDau, htmlAttributes: new { @class = "form-control", @id = "oldPhuDe", @type = "hidden" })
                    @Html.TextBoxFor(model => model.TieuDeResult, htmlAttributes: new { @class = "form-control", @id = "TieuDeResult", @type = "hidden" })
                    @Html.TextBoxFor(model => model.PhuDeResult, htmlAttributes: new { @class = "form-control", @id = "PhuDeResult", @type = "hidden" })
                    @Html.TextBoxFor(model => model.IDBaiDang, htmlAttributes: new { @class = "form-control", @type = "hidden" })
                </div>
            </fieldset>

        </div>

        <div  style="max-width:370px">
            <div class="accordion" id="accordionPanelsStayOpenExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                            Nhận dạng IA
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                        <div class="accordion-body">
                            <button type="button" id="kiemtraIA" class="btn btn-primary">Nhận dạng IA</button>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="true" aria-controls="panelsStayOpen-collapseTwo">
                            Kiểm tra từ nhạy cảm
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingTwo">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <input type="checkbox" id="cbTieuDe" name="c1">
                                    <label for="cb1">Tiêu đề</label><br>
                                </div>
                                <div class="col-md-6">
                                    <input type="checkbox" id="cbNoiDung" name="c2">
                                    <label for="cb2">Nội dung</label><br>
                                </div>
                            </div>
                            <div class="row">
                                <label for="cb2">Danh sách từ nhạy cảm:</label><br>
                                <label style="color:red" id="tucams"></label>
                            </div>
                            <button class="btn btn-primary" type="button" id="button-check">Kiểm tra</button>
                            <button class="btn btn-primary" type="button" id="button-thaythe">Thay thế</button>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="true" aria-controls="panelsStayOpen-collapseThree">
                            Thẻ
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingThree">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <select class="form-control" id="selectThe">
                                    </select>
                                </div>
                            </div>
                            <div class="mt-1">
                                <div class="row">
                                    <div class="col-md-12">
                                        <input type="text" class="col-md-12 form-control" id="ipTag" />
                                        <button class="mt-1 btn btn-primary" id="add-tag-button">Thêm</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFive" aria-expanded="true" aria-controls="panelsStayOpen-collapseThree">
                            Đăng ảnh
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseFive" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingThree">
                        <div class="accordion-body">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-5">
                                        @Html.LabelFor(model => model.AnhDaiDien, htmlAttributes: new { @class = "control-laber " })
                                    </div>

                                    <div class="col-7">
                                        @Html.TextBoxFor(model => model.AnhDaiDien, new { @readonly = "readonly", @class = "form-control123", htmlAttributes = new { @class = "form-control", @readonly = "readonly" }, id = "txt_avt_post" })
                                        <a id="btn_avt_post" href="#"> Chọn ảnh</a>
                                        @Html.ValidationMessageFor(model => model.AnhDaiDien, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <img src="" id="image-preview__image" />
                                </div>
                            </div>
                            @*<div class="row">
                                    <div class="col-md-12">
                                        <select class="form-control" id="selectThe">
                                        </select>
                                    </div>
                                </div>
                                <div class="mt-1">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <input type="text" class="col-md-12 form-control" id="ipTag" />
                                            <button class="mt-1 btn btn-primary" id="add-tag-button">Thêm</button>
                                        </div>
                                    </div>
                                </div>*@
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFoure" aria-expanded="true" aria-controls="panelsStayOpen-collapseThree">
                            Đăng bài
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseFoure" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingThree">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-4 col-sm-12">
                                    @*<button class="btn btn-primary" type="button" id="xemtruoc">Xem trước</button>*@

                                    <!--test-->
                                    <!-- Button trigger modal -->
                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" id="xemtruoc" data-bs-target="#exampleModal">
                                        Xem trước
                                    </button>

                                    <!-- Modal -->
                                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-lg" style="width:80vw !important">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Xem trước</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    @*<p id="title">Tiêu đề</p>
        <p id="sub-title">Phu đề</p>
        <p id="contentx">Nội dung</p>*@
                                                    <div class="single_page_area">

                                                        <h3 class="post_titile post_titile12" id="title"> </h3>
                                                        <div class="single_page_content">


                                                            <div class="post_commentbox">
                                                                <span>
                                                                    <i class="fa fa-calendar"></i>@Convert.ToDateTime(DateTime.Now).ToShortDateString()
                                                                </span>
                                                            </div>

                                                            <h4 id="sub-title"></h4>
                                                            <div id="contentx">

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                                                    <button type="button" class="btn btn-primary">Lưu</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--End test-->
                                </div>


                                <div class="col-md-4 col-sm-12">
                                    <button class="btn btn-warning" type="button" id="dangnhap">Đăng nháp</button>
                                </div>
                                <div class="col-md-4 col-sm-12">
                                    <button class="btn btn-success" type="button" id="dangbai">Đăng bài</button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
}